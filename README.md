# –ü–∞—Ä—Å–µ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ Kwork.ru —Å –ë–î –∏ Telegram

# üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip3 install requests beautifulsoup4
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram –±–æ—Ç–∞:

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather –≤ Telegram
# 2. –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π Chat ID —á–µ—Ä–µ–∑ @userinfobot
# 3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.py
nano config.py

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
python3 test_telegram.py
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª **TELEGRAM_SETUP.md** - —Ç–∞–º –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏

### 3. –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞:

```
kwork_parser_telegram.py  - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä —Å Telegram
database_manager.py       - –º–µ–Ω–µ–¥–∂–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
telegram_bot.py           - –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API
config.py                 - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–†–ï–î–ê–ö–¢–ò–†–£–ô–¢–ï –≠–¢–û–¢ –§–ê–ô–õ!)
test_telegram.py          - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Telegram
TELEGRAM_SETUP.md         - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
```

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip3 install requests beautifulsoup4

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram (—Å–º. TELEGRAM_SETUP.md)
nano config.py  # –£–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ Chat ID

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞
python3 test_telegram.py

# 4. –ó–∞–ø—É—Å–∫!
python3 kwork_parser_telegram.py
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ config.py

```python
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
TELEGRAM_BOT_TOKEN = "1234567890:ABCdef..."  # –û—Ç @BotFather
TELEGRAM_CHAT_ID = "123456789"               # –û—Ç @userinfobot

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
PROJECTS_PER_MESSAGE = 5          # –ü—Ä–æ–µ–∫—Ç–æ–≤ –≤ –æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ (1-10)
SEND_INDIVIDUAL_PROJECTS = False  # True = –∫–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –æ—Ç–¥–µ–ª—å–Ω–æ
SEND_STATISTICS = True            # –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
SEND_START_NOTIFICATION = True    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–∞—á–∞–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
```

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

```
1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î (kwork_projects.db)
   ‚Üì
2. –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –æ –Ω–∞—á–∞–ª–µ
   ‚Üì
3. –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü kwork.ru
   ‚Üì
4. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ window.stateData
   ‚Üì
5. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ ID –≤ –ë–î
   ‚Ä¢ –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí SKIP
   ‚Ä¢ –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí INSERT + –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
   ‚Üì
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ new_projects.json
   ‚Üì
7. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ Telegram
```

## üì± –ü—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram

### –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

```
üöÄ –ù–∞—á–∞–ª–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ Kwork.ru

üìÑ –°—Ç—Ä–∞–Ω–∏—Ü—ã: 1 - 3
‚è± –ó–∞–¥–µ—Ä–∂–∫–∞: 2 —Å–µ–∫
```

### –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç:

```
üÜï –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

üí∞ –ë—é–¥–∂–µ—Ç: 50000 - 100000 ‚ÇΩ
‚è∞ –û—Å—Ç–∞–ª–æ—Å—å: 5 –¥–Ω–µ–π

üë§ –ó–∞–∫–∞–∑—á–∏–∫: ivanov_tech
   üìä –ü—Ä–æ–µ–∫—Ç–æ–≤: 15 | –ù–∞–Ω—è—Ç–æ: 87%

üìù –û–ø–∏—Å–∞–Ω–∏–µ:
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å...

üîó –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–æ–µ–∫—Ç—É
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

```
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–ê–†–°–ò–ù–ì–ê

üîç –í—Å–µ–≥–æ —Å–ø–∞—Ä—Å–µ–Ω–æ: 45
‚ú® –ù–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤: 12
‚äò –ü—Ä–æ–ø—É—â–µ–Ω–æ (–¥—É–±–ª–∏): 33
üíæ –í—Å–µ–≥–æ –≤ –ë–î: 157
üë• –ó–∞–∫–∞–∑—á–∏–∫–æ–≤ –≤ –ë–î: 89
```

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫:

```bash
python3 kwork_parser_telegram.py
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
from kwork_parser_telegram import KworkParser

# –° Telegram
parser = KworkParser("kwork.db", use_telegram=True)
stats = parser.parse_and_save(start_page=1, end_page=10, delay=3.0)

# –ë–µ–∑ Telegram
parser = KworkParser("kwork.db", use_telegram=False)
stats = parser.parse_and_save(start_page=1, end_page=5, delay=2.0)
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `projects`:

* id, name, url, description
* price_limit, possible_price_limit
* category_id, status, time_left
* offers_count, dates, flags
* created_at, updated_at

### –¢–∞–±–ª–∏—Ü–∞ `buyers`:

* user_id, username, profile_url
* avatar, wants_count, hired_percent
* created_at, updated_at

### –¢–∞–±–ª–∏—Ü–∞ `project_buyers`:

* –°–≤—è–∑—å many-to-many –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –∑–∞–∫–∞–∑—á–∏–∫–∞–º–∏

## üóÑÔ∏è –ö–æ–º–∞–Ω–¥—ã SQLite

```bash
# –û—Ç–∫—Ä—ã—Ç—å –ë–î
sqlite3 kwork_projects.db

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
SELECT COUNT(*) FROM projects;
SELECT COUNT(*) FROM buyers;

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç—ã
SELECT id, name, created_at FROM projects 
ORDER BY created_at DESC LIMIT 10;

# –ü–æ–∏—Å–∫ –ø–æ –±—é–¥–∂–µ—Ç—É
SELECT name, price_limit FROM projects 
WHERE CAST(price_limit AS INTEGER) > 50000;

# –í—ã–π—Ç–∏
.quit
```

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå "–£–∫–∞–∂–∏—Ç–µ TELEGRAM_BOT_TOKEN –≤ config.py"

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫—Ä–æ–π—Ç–µ config.py –∏ –∑–∞–º–µ–Ω–∏—Ç–µ `YOUR_BOT_TOKEN_HERE` –Ω–∞ —Ç–æ–∫–µ–Ω –æ—Ç @BotFather

### ‚ùå "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Telegram –±–æ—Ç—É"

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ: `python3 test_telegram.py`
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://api.telegram.org/bot<TOKEN>/getMe`

### ‚ùå "–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è"

**–†–µ—à–µ–Ω–∏–µ:**

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É `/start` (–¥–ª—è –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π)
2. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–¥–ª—è –≥—Ä—É–ø–ø)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Chat ID —á–µ—Ä–µ–∑ @userinfobot

### ‚ö†Ô∏è –ë–æ—Ç –º–æ–ª—á–∏—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. –ï—Å—Ç—å –ª–∏ –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã? (–µ—Å–ª–∏ –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã - –Ω–µ—á–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å)
2. –í–∫–ª—é—á–µ–Ω—ã –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ config.py?
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω Chat ID?

### üîç –û—Ç–ª–∞–¥–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
python3 test_telegram.py

# –ó–∞–ø—É—Å–∫ —Å –≤—ã–≤–æ–¥–æ–º –ª–æ–≥–æ–≤
python3 kwork_parser_telegram.py 2>&1 | tee parser.log
```

## üìÅ –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

* `kwork_projects.db` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
* `new_projects.json` - —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
* `parser.log` - –ª–æ–≥–∏ —Ä–∞–±–æ—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### Cron (Linux/macOS):

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å crontab
crontab -e

# –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
*/30 * * * * cd /path/to/parser && python3 kwork_parser_telegram.py

# –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π —á–∞—Å
0 * * * * cd /path/to/parser && python3 kwork_parser_telegram.py
```

### Task Scheduler (Windows):

1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π"
2. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É
3. –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ Python –∏ —Å–∫—Ä–∏–ø—Ç—É
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –û—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```python
# config.py
SEND_INDIVIDUAL_PROJECTS = True
```

### –¢–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –±–µ–∑ –ø—Ä–æ–µ–∫—Ç–æ–≤:

```python
# kwork_parser_telegram.py
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É:
# self._send_to_telegram(new_projects)
```

### –°–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –º–µ—Ç–æ–¥—ã `_format_project_message` –∏ `_format_projects_batch` –≤ `telegram_bot.py`

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

* **TELEGRAM_SETUP.md** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram
* **test_telegram.py** - —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
* **Telegram Bot API:** https://core.telegram.org/bots/api
* **@BotFather:** https://t.me/BotFather
* **@userinfobot:** https://t.me/userinfobot

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

* [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`pip3 install requests beautifulsoup4`)
* [ ] –°–æ–∑–¥–∞–Ω –±–æ—Ç —á–µ—Ä–µ–∑ @BotFather
* [ ] –ü–æ–ª—É—á–µ–Ω —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
* [ ] –£–∑–Ω–∞–Ω Chat ID —á–µ—Ä–µ–∑ @userinfobot
* [ ] –ó–∞–ø–æ–ª–Ω–µ–Ω config.py (—Ç–æ–∫–µ–Ω –∏ Chat ID)
* [ ] –ù–∞–ø–∏—Å–∞–Ω–æ –±–æ—Ç—É `/start` (–µ—Å–ª–∏ –ª–∏—á–Ω—ã–π —á–∞—Ç)
* [ ] –ó–∞–ø—É—â–µ–Ω `python3 test_telegram.py` - –≤—Å–µ ‚úÖ
* [ ] –ó–∞–ø—É—â–µ–Ω `python3 kwork_parser_telegram.py`
* [ ] –ü–æ–ª—É—á–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram üéâ
